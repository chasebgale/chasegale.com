<!DOCTYPE html>
<html>
<head>
  <title>conquering mountains with technology</title>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <meta name="description">
  <meta property="og:type" content="website">
  <meta property="og:title" content="conquering mountains with technology">
  <meta property="og:url" content="http://chasegale.com/">
  <meta property="og:site_name" content="conquering mountains with technology">
  <meta property="og:description">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="conquering mountains with technology">
  <meta name="twitter:description">

  <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <link rel="stylesheet" href="/vendor/fancybox/jquery.fancybox.css" media="screen" type="text/css">

  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <!--
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-354944-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  -->
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
</head>
<body>
  <div id="container">
    <header id="header">
      <h1 class="blog-title">
		    <a href="/">conquering mountains with technology</a>
      </h1>
      <nav class="nav">
    		<ul>
    			<li><a id="nav-index-btn" href="/#index" class="nav-icon" title="Archive"><span class="nav-icon-title">  index</span></a></li>
    			<li><a id="nav-about-btn" href="/#about" class="nav-icon" title="About"><span class="nav-icon-title">  about</span></a></li>
    		</ul>
      </nav>
    </header>
    <div id="main"><article class="post">
	<header class="entry-header">
		<span class="date">
			Feb 21, 2016
		</span>
		<h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/Introducing-Assembled-Realms">Introducing: Assembled Realms, Build and Play Open-Source MMOs - All From A Browser</a>
    </h1>
	</header>
	<div class="entry-content">
		<p>When I was eleven years old I had an experience that would eventually set the course for my entire professional life. It was my first day of class in the 6th grade. The middle school was experimenting with a new curriculum that would expose gifted students to a computer in every classroom, the lion-share of which being the venerable Macintosh Classic II. </p>
<p>I immediately began tinkering. Lessons were completed as quickly as possible to afford me more time on the machines. I stayed after school learning AppleScript. I&#39;d create simple slide-based adventure games for my friends to play and solve (think Myst written by a little kid with no graphics at all). I wanted to create more advanced games so I checked out a book from the library that would teach me how to write BASIC. The book had full source code examples that I hungrily reverse engineered and re-imagined. </p>
<p>This early passion to figure out how things work and to make things my friends could enjoy ignited a life long career in software development. Assembled Realms hopes to offer that same sense of wonder and opportunity with a significantly lower barrier to entry. The idea is to provide structured game &quot;engines&quot;, essentially mini working games, to users that serve as the foundation for experimentation, that can be picked apart or completely demolished and rebuilt. </p>
<p><img src="/Introducing-Assembled-Realms/resource/game.png" alt="GAME"></p>
<p>All client and server code is written in Javascript and can be created/edited directly from a browser. No software to download, no platform restrictions. Realm builders can launch their games with a click of a button, receiving a public URL to give to friends. Bugs and improvements can be suggested by the user base, pushing the realm builder to research, explore and learn. Users are introduced to concepts essential to the software development lifecycle - committing, publishing, debugging, etc - in a fun and effective way.</p>
<p><img src="/Introducing-Assembled-Realms/resource/ide.png" alt="IDE"></p>
<p>I&#39;m excited to see what the community can produce and am making myself available to help in any way I can. </p>
<p><a href="https://www.assembledrealms.com">Assembled Realms</a></p>
<p><a href="https://twitter.com/chasebgale">@chasebgale</a></p>

	</div>
</article>

<hr class="article-divider" />
<ins class="adsbygoogle"
		 style="display:block;width:728px;height:90px;margin: 0 auto;"
   	 data-ad-client="ca-pub-4898800745718155"
   	 data-ad-slot="4705512849"></ins>
<hr class="article-divider" /><article class="post">
	<header class="entry-header">
		<span class="date">
			Oct 21, 2011
		</span>
		<h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/Introducing-Rocketcharts-Open-source-HTML5-Financial-Statistical-Charts">Introducing: Rocketcharts, Open-source HTML5 Financial/Statistical Charts</a>
    </h1>
	</header>
	<div class="entry-content">
		<script type="text/javascript" src="/Introducing-Rocketcharts-Open-source-HTML5-Financial-Statistical-Charts/resource/jquery-2.1.1.min.js"></script>
<script type="text/javascript" src="/Introducing-Rocketcharts-Open-source-HTML5-Financial-Statistical-Charts/resource/rocketcharts.js"></script>
<script type="text/javascript">
    document.addEventListener('DOMContentLoaded', function() {
        var style = {};
        style.UpColor = {r: 0, g: 255, b: 0};
        style.DownColor = {r: 255, g: 0, b: 0};
        
        var settings = {};
        settings.customUI = true;
        
        var rocketcharts = new Rocketchart();
        
        rocketcharts.init(document.getElementById("rocketchart"), settings); 
        
        var googData = [{date: "11/9/2010",open: 17.22,high: 17.6,low: 16.86,close: 16.97,volume: 56218900},
		{date: "11/10/2010",open: 17,high: 17.01,low: 16.75,close: 16.94,volume: 17012600},
		{date: "11/11/2010",open: 16.63,high: 16.86,low: 16.52,close: 16.8,volume: 15310600},
		{date: "11/12/2010",open: 16.65,high: 16.75,low: 16.4,close: 16.55,volume: 17703400},
		{date: "11/15/2010",open: 16.56,high: 16.89,low: 16.33,close: 16.6,volume: 18934600},
		{date: "11/16/2010",open: 16.45,high: 16.49,low: 16.1,close: 16.24,volume: 23484100},
		{date: "11/17/2010",open: 16.21,high: 16.33,low: 16.11,close: 16.15,volume: 10305800},
		{date: "11/18/2010",open: 16.4,high: 17.17,low: 16.29,close: 16.99,volume: 46500100},
		{date: "11/19/2010",open: 16.97,high: 16.97,low: 16.52,close: 16.57,volume: 24036200},
		{date: "11/22/2010",open: 16.43,high: 16.65,low: 16.25,close: 16.56,volume: 14316900},
		{date: "11/23/2010",open: 16.34,high: 16.43,low: 16.04,close: 16.19,volume: 22437900},
		{date: "11/24/2010",open: 16.31,high: 16.48,low: 16.15,close: 16.41,volume: 11561700},
		{date: "11/26/2010",open: 16.25,high: 16.4,low: 16.22,close: 16.22,volume: 4953900},
		{date: "11/29/2010",open: 16.1,high: 16.45,low: 15.95,close: 16.38,volume: 14653000},
		{date: "11/30/2010",open: 16.2,high: 16.34,low: 15.77,close: 15.82,volume: 24981100},
		{date: "12/1/2010",open: 16,high: 16.4,low: 16,close: 16.15,volume: 17435900},
		{date: "12/2/2010",open: 16.2,high: 16.41,low: 16.12,close: 16.33,volume: 13167300},
		{date: "12/3/2010",open: 16.27,high: 16.37,low: 16.2,close: 16.35,volume: 9228000},
		{date: "12/6/2010",open: 16.47,high: 16.6,low: 16.3,close: 16.33,volume: 12063800},
		{date: "12/7/2010",open: 16.5,high: 17.07,low: 16.5,close: 16.94,volume: 29056400},
		{date: "12/8/2010",open: 17.01,high: 17.22,low: 16.96,close: 17.02,volume: 21773300},
		{date: "12/9/2010",open: 17.12,high: 17.19,low: 16.8,close: 16.95,volume: 8673300},
		{date: "12/10/2010",open: 16.97,high: 17.05,low: 16.91,close: 17.01,volume: 8985300},
		{date: "12/13/2010",open: 16.9,high: 16.99,low: 16.69,close: 16.7,volume: 12755400},
		{date: "12/14/2010",open: 16.77,high: 16.84,low: 16.57,close: 16.63,volume: 11429500},
		{date: "12/15/2010",open: 16.55,high: 16.73,low: 16.42,close: 16.45,volume: 10944200},
		{date: "12/16/2010",open: 16.45,high: 16.7,low: 16.44,close: 16.51,volume: 12940500},
		{date: "12/17/2010",open: 16.51,high: 16.66,low: 16.32,close: 16.38,volume: 24896100},
		{date: "12/20/2010",open: 16.38,high: 16.42,low: 16.15,close: 16.28,volume: 17566400},
		{date: "12/21/2010",open: 16.31,high: 16.68,low: 16.2,close: 16.6,volume: 11394700},
		{date: "12/22/2010",open: 16.67,high: 16.78,low: 16.56,close: 16.63,volume: 6767500},
		{date: "12/23/2010",open: 16.56,high: 16.73,low: 16.45,close: 16.72,volume: 8889200},
		{date: "12/27/2010",open: 16.62,high: 16.63,low: 16.4,close: 16.48,volume: 7492300},
		{date: "12/28/2010",open: 16.47,high: 16.54,low: 16.33,close: 16.43,volume: 8389100},
		{date: "12/29/2010",open: 16.5,high: 16.77,low: 16.43,close: 16.61,volume: 7668600},
		{date: "12/30/2010",open: 16.6,high: 16.77,low: 16.52,close: 16.76,volume: 8318900},
		{date: "12/31/2010",open: 16.74,high: 16.76,low: 16.47,close: 16.63,volume: 7754500},
		{date: "1/3/2011",open: 16.81,high: 16.94,low: 16.67,close: 16.75,volume: 17684000},
		{date: "1/4/2011",open: 16.71,high: 16.83,low: 16.57,close: 16.59,volume: 11092800},
		{date: "1/5/2011",open: 16.55,high: 16.91,low: 16.34,close: 16.91,volume: 23447700},
		{date: "1/6/2011",open: 16.9,high: 17.34,low: 16.77,close: 17.06,volume: 30656800},
		{date: "1/7/2011",open: 17.03,high: 17.17,low: 16.65,close: 16.9,volume: 19869500},
		{date: "1/10/2011",open: 16.78,high: 16.8,low: 16.5,close: 16.6,volume: 16176700},
		{date: "1/11/2011",open: 16.7,high: 16.73,low: 16.53,close: 16.58,volume: 14615700},
		{date: "1/12/2011",open: 16.71,high: 16.81,low: 16.59,close: 16.65,volume: 15066200},
		{date: "1/13/2011",open: 16.64,high: 16.92,low: 16.57,close: 16.75,volume: 15961000},
		{date: "1/14/2011",open: 16.67,high: 16.83,low: 16.6,close: 16.81,volume: 13593500},
		{date: "1/18/2011",open: 16.62,high: 16.68,low: 16.42,close: 16.5,volume: 21392500},
		{date: "1/19/2011",open: 16.49,high: 16.55,low: 16.23,close: 16.31,volume: 17130000},
		{date: "1/20/2011",open: 16.29,high: 16.33,low: 16.09,close: 16.23,volume: 14622700},
		{date: "1/21/2011",open: 16.27,high: 16.31,low: 15.93,close: 15.97,volume: 23366200},
		{date: "1/24/2011",open: 16,high: 16.24,low: 15.76,close: 16.09,volume: 23375300},
		{date: "1/25/2011",open: 16.17,high: 16.19,low: 15.85,close: 16.02,volume: 26673100},
		{date: "1/26/2011",open: 15.93,high: 16.05,low: 15.41,close: 15.57,volume: 49690800},
		{date: "1/27/2011",open: 15.58,high: 16.36,low: 15.58,close: 16.2,volume: 39067000},
		{date: "1/28/2011",open: 16.15,high: 16.21,low: 15.68,close: 15.83,volume: 24734000},
		{date: "1/31/2011",open: 15.82,high: 16.2,low: 15.79,close: 16.12,volume: 22911400},
		{date: "2/1/2011",open: 16.33,high: 16.46,low: 16.23,close: 16.38,volume: 26938900},
		{date: "2/2/2011",open: 16.25,high: 16.66,low: 16.25,close: 16.57,volume: 21106800},
		{date: "2/3/2011",open: 16.48,high: 16.91,low: 16.4,close: 16.69,volume: 33314600},
		{date: "2/4/2011",open: 16.74,high: 16.91,low: 16.45,close: 16.79,volume: 19127900},
		{date: "2/7/2011",open: 16.81,high: 17,low: 16.77,close: 16.8,volume: 16046500},
		{date: "2/8/2011",open: 16.83,high: 16.85,low: 16.48,close: 16.6,volume: 17932000},
		{date: "2/9/2011",open: 16.54,high: 16.7,low: 16.35,close: 16.43,volume: 17778700},
		{date: "2/10/2011",open: 16.39,high: 16.72,low: 16.35,close: 16.62,volume: 15430500},
		{date: "2/11/2011",open: 16.58,high: 16.87,low: 16.54,close: 16.85,volume: 15386300},
		{date: "2/14/2011",open: 16.84,high: 16.93,low: 16.72,close: 16.89,volume: 14503000},
		{date: "2/15/2011",open: 16.8,high: 17.39,low: 16.78,close: 17.2,volume: 31395200},
		{date: "2/16/2011",open: 17.23,high: 17.82,low: 17.21,close: 17.76,volume: 41824100},
		{date: "2/17/2011",open: 17.75,high: 17.82,low: 17.5,close: 17.77,volume: 23566600},
		{date: "2/18/2011",open: 17.69,high: 17.84,low: 17.57,close: 17.66,volume: 13729900},
		{date: "2/22/2011",open: 17.08,high: 17.39,low: 16.87,close: 16.91,volume: 34759500},
		{date: "2/23/2011",open: 17.03,high: 17.1,low: 16.35,close: 16.58,volume: 35225100},
		{date: "2/24/2011",open: 16.66,high: 16.73,low: 16.04,close: 16.37,volume: 31570400},
		{date: "2/25/2011",open: 16.39,high: 16.77,low: 16.38,close: 16.5,volume: 16939600},
		{date: "2/28/2011",open: 16.37,high: 16.6,low: 16.28,close: 16.4,volume: 20210300},
		{date: "3/1/2011",open: 16.46,high: 16.49,low: 16.08,close: 16.1,volume: 16702800},
		{date: "3/2/2011",open: 16.65,high: 16.85,low: 16.6,close: 16.63,volume: 24521100},
		{date: "3/3/2011",open: 16.85,high: 17.05,low: 16.76,close: 16.86,volume: 35202100},
		{date: "3/4/2011",open: 16.75,high: 17.2,low: 16.72,close: 17.08,volume: 20274200},
		{date: "3/7/2011",open: 17.07,high: 17.15,low: 16.49,close: 16.7,volume: 18770800},
		{date: "3/8/2011",open: 16.74,high: 17.02,low: 16.72,close: 16.94,volume: 12717200},
		{date: "3/9/2011",open: 16.89,high: 17.7,low: 16.85,close: 17.65,volume: 33798000},
		{date: "3/10/2011",open: 17.3,high: 17.39,low: 16.93,close: 17.06,volume: 25659700},
		{date: "3/11/2011",open: 17,high: 17.54,low: 17,close: 17.42,volume: 19454900},
		{date: "3/14/2011",open: 17.24,high: 17.44,low: 17.09,close: 17.31,volume: 21615500},
		{date: "3/15/2011",open: 16.66,high: 16.68,low: 16.04,close: 16.33,volume: 51489300},
		{date: "3/16/2011",open: 16.33,high: 16.48,low: 15.85,close: 15.91,volume: 38378500},
		{date: "3/17/2011",open: 16.16,high: 16.42,low: 15.81,close: 15.86,volume: 37548800},
		{date: "3/18/2011",open: 16.1,high: 16.19,low: 16.01,close: 16.03,volume: 26660400},
		{date: "3/21/2011",open: 16.18,high: 16.5,low: 16.16,close: 16.29,volume: 20613700},
		{date: "3/22/2011",open: 16.29,high: 16.48,low: 16.16,close: 16.36,volume: 30692400},
		{date: "3/23/2011",open: 16.3,high: 16.34,low: 15.98,close: 16.13,volume: 30842500},
		{date: "3/24/2011",open: 16.19,high: 16.91,low: 16.17,close: 16.83,volume: 20120300},
		{date: "3/25/2011",open: 16.94,high: 17.05,low: 16.7,close: 16.96,volume: 21047200},
		{date: "3/28/2011",open: 17.01,high: 17.06,low: 16.58,close: 16.58,volume: 16066700},
		{date: "3/29/2011",open: 16.6,high: 16.78,low: 16.53,close: 16.75,volume: 10037900},
		{date: "3/30/2011",open: 16.83,high: 16.92,low: 16.68,close: 16.74,volume: 12944600},
		{date: "3/31/2011",open: 16.71,high: 16.88,low: 16.65,close: 16.68,volume: 15131500},
		{date: "4/1/2011",open: 16.83,high: 16.98,low: 16.72,close: 16.84,volume: 12487400},
		{date: "4/4/2011",open: 16.9,high: 17.05,low: 16.81,close: 16.87,volume: 9560800},
		{date: "4/5/2011",open: 16.81,high: 17.29,low: 16.79,close: 17.11,volume: 18464500},
		{date: "4/6/2011",open: 17.17,high: 17.2,low: 16.94,close: 17.05,volume: 13298700},
		{date: "4/7/2011",open: 16.91,high: 17.1,low: 16.79,close: 17,volume: 12778700},
		{date: "4/8/2011",open: 17.08,high: 17.11,low: 16.77,close: 16.77,volume: 13114200},
		{date: "4/11/2011",open: 16.91,high: 16.96,low: 16.37,close: 16.59,volume: 34841900},
		{date: "4/12/2011",open: 16.55,high: 16.64,low: 16.29,close: 16.36,volume: 19783600},
		{date: "4/13/2011",open: 16.43,high: 16.69,low: 16.43,close: 16.64,volume: 16700400},
		{date: "4/14/2011",open: 16.55,high: 16.82,low: 16.43,close: 16.69,volume: 16595500},
		{date: "4/15/2011",open: 16.64,high: 16.78,low: 16.54,close: 16.62,volume: 14756500},
		{date: "4/18/2011",open: 16.35,high: 16.44,low: 16.06,close: 16.35,volume: 21935700},
		{date: "4/19/2011",open: 16.21,high: 16.36,low: 16.08,close: 16.12,volume: 31547400},
		{date: "4/20/2011",open: 16.7,high: 17.23,low: 16.59,close: 16.87,volume: 34310400},
		{date: "4/21/2011",open: 16.93,high: 16.94,low: 16.74,close: 16.85,volume: 13985200},
		{date: "4/25/2011",open: 17.01,high: 17.31,low: 16.9,close: 17.11,volume: 17771500},
		{date: "4/26/2011",open: 17.11,high: 17.37,low: 17.02,close: 17.28,volume: 20062300},
		{date: "4/27/2011",open: 17.3,high: 17.43,low: 17.18,close: 17.26,volume: 16659400},
		{date: "4/28/2011",open: 17.22,high: 17.53,low: 17.17,close: 17.51,volume: 14414700},
		{date: "4/29/2011",open: 17.46,high: 17.77,low: 17.36,close: 17.7,volume: 30800000},
		{date: "5/2/2011",open: 17.79,high: 18.35,low: 17.57,close: 18.14,volume: 44030600},
		{date: "5/3/2011",open: 18.23,high: 18.64,low: 17.88,close: 17.92,volume: 32622700},
		{date: "5/4/2011",open: 17.99,high: 18.38,low: 17.96,close: 18.2,volume: 23584900},
		{date: "5/5/2011",open: 18.12,high: 18.56,low: 18.05,close: 18.43,volume: 30788400},
		{date: "5/6/2011",open: 18.59,high: 18.8,low: 18.38,close: 18.65,volume: 29690800},
		{date: "5/9/2011",open: 18.6,high: 18.84,low: 18.54,close: 18.56,volume: 15595600},
		{date: "5/10/2011",open: 18.67,high: 18.7,low: 18.42,close: 18.55,volume: 18507100},
		{date: "5/11/2011",open: 18.45,high: 18.61,low: 16.74,close: 17.2,volume: 131183400},
		{date: "5/12/2011",open: 17.12,high: 17.81,low: 16.93,close: 17.17,volume: 52300000},
		{date: "5/13/2011",open: 16.14,high: 16.84,low: 15.96,close: 16.55,volume: 120036300},
		{date: "5/16/2011",open: 16.68,high: 16.69,low: 15.63,close: 15.81,volume: 62082200},
		{date: "5/17/2011",open: 15.88,high: 16.07,low: 15.73,close: 16,volume: 31205200},
		{date: "5/18/2011",open: 16.07,high: 16.16,low: 15.75,close: 15.96,volume: 25649600},
		{date: "5/19/2011",open: 16.05,high: 16.49,low: 16.04,close: 16.35,volume: 40356400},
		{date: "5/20/2011",open: 16.32,high: 16.44,low: 16.15,close: 16.3,volume: 23492200},
		{date: "5/23/2011",open: 16.05,high: 16.17,low: 16,close: 16.06,volume: 19250500},
		{date: "5/24/2011",open: 16.11,high: 16.41,low: 16.05,close: 16.14,volume: 23150600},
		{date: "5/25/2011",open: 16.19,high: 16.99,low: 16.1,close: 16.15,volume: 34166900},
		{date: "5/26/2011",open: 16.18,high: 16.22,low: 15.88,close: 15.98,volume: 23999500},
		{date: "5/27/2011",open: 16.03,high: 16.19,low: 15.95,close: 16.02,volume: 20091200},
		{date: "5/31/2011",open: 16.17,high: 16.59,low: 16.12,close: 16.55,volume: 30248700},
		{date: "6/1/2011",open: 16.34,high: 16.43,low: 15.79,close: 15.85,volume: 40282000},
		{date: "6/2/2011",open: 16,high: 16.11,low: 15.87,close: 16.02,volume: 21005000},
		{date: "6/3/2011",open: 15.82,high: 16,low: 15.63,close: 15.68,volume: 22230500},
		{date: "6/6/2011",open: 15.65,high: 15.85,low: 15.41,close: 15.45,volume: 18200400},
		{date: "6/7/2011",open: 15.54,high: 15.65,low: 15.32,close: 15.45,volume: 16516100},
		{date: "6/8/2011",open: 15.37,high: 15.38,low: 15.08,close: 15.1,volume: 21986600},
		{date: "6/9/2011",open: 15.18,high: 15.33,low: 14.94,close: 15.22,volume: 18681900},
		{date: "6/10/2011",open: 15.27,high: 15.73,low: 15.11,close: 15.2,volume: 19452400},
		{date: "6/13/2011",open: 15.2,high: 15.34,low: 15.1,close: 15.16,volume: 14581200},
		{date: "6/14/2011",open: 15.26,high: 15.56,low: 15.19,close: 15.2,volume: 21994400},
		{date: "6/15/2011",open: 15.01,high: 15.05,low: 14.5,close: 14.81,volume: 41286100},
		{date: "6/16/2011",open: 15.01,high: 15.09,low: 14.65,close: 14.78,volume: 24446700},
		{date: "6/17/2011",open: 14.98,high: 14.98,low: 14.56,close: 14.7,volume: 22963400},
		{date: "6/20/2011",open: 14.66,high: 15.42,low: 14.66,close: 14.99,volume: 32646500},
		{date: "6/21/2011",open: 15.03,high: 15.38,low: 14.91,close: 15.35,volume: 17507800},
		{date: "6/22/2011",open: 15.29,high: 15.53,low: 15.19,close: 15.23,volume: 30081100},
		{date: "6/23/2011",open: 15.08,high: 15.09,low: 14.72,close: 15.08,volume: 32494700},
		{date: "6/24/2011",open: 15.08,high: 15.16,low: 14.85,close: 14.89,volume: 25340600},
		{date: "6/27/2011",open: 14.87,high: 14.98,low: 14.77,close: 14.88,volume: 13836300},
		{date: "6/28/2011",open: 14.95,high: 15.18,low: 14.88,close: 14.95,volume: 16056600},
		{date: "6/29/2011",open: 14.96,high: 15.05,low: 14.68,close: 14.89,volume: 25465200},
		{date: "6/30/2011",open: 14.98,high: 15.1,low: 14.64,close: 15.04,volume: 34905700},
		{date: "7/1/2011",open: 15.08,high: 15.5,low: 15.02,close: 15.45,volume: 16272500},
		{date: "7/5/2011",open: 15.4,high: 15.67,low: 15.25,close: 15.49,volume: 20481700},
		{date: "7/6/2011",open: 15.53,high: 15.81,low: 15.52,close: 15.72,volume: 18287200},
		{date: "7/7/2011",open: 15.78,high: 15.95,low: 15.7,close: 15.81,volume: 20991400},
		{date: "7/8/2011",open: 15.62,high: 15.69,low: 15.44,close: 15.61,volume: 14364900},
		{date: "7/11/2011",open: 15.43,high: 15.44,low: 14.99,close: 15.05,volume: 21486700},
		{date: "7/12/2011",open: 15.01,high: 15.18,low: 14.85,close: 14.86,volume: 22791100},
		{date: "7/13/2011",open: 15.01,high: 15.1,low: 14.87,close: 14.91,volume: 16646100},
		{date: "7/14/2011",open: 14.88,high: 14.99,low: 14.6,close: 14.63,volume: 27078600},
		{date: "7/15/2011",open: 14.75,high: 14.94,low: 14.61,close: 14.69,volume: 19745100},
		{date: "7/18/2011",open: 14.68,high: 14.69,low: 14.37,close: 14.42,volume: 24493400},
		{date: "7/19/2011",open: 14.57,high: 14.69,low: 14.45,close: 14.59,volume: 30132600},
		{date: "7/20/2011",open: 14.15,high: 14.15,low: 13.45,close: 13.48,volume: 63065600},
		{date: "7/21/2011",open: 13.5,high: 13.63,low: 13.36,close: 13.59,volume: 30487100},
		{date: "7/22/2011",open: 13.65,high: 14.05,low: 13.57,close: 13.98,volume: 30144800},
		{date: "7/25/2011",open: 13.84,high: 13.88,low: 13.68,close: 13.69,volume: 16725400},
		{date: "7/26/2011",open: 13.7,high: 13.99,low: 13.65,close: 13.94,volume: 20934200},
		{date: "7/27/2011",open: 13.87,high: 13.9,low: 13.57,close: 13.59,volume: 20559500},
		{date: "7/28/2011",open: 13.6,high: 13.71,low: 13.43,close: 13.5,volume: 20621700},
		{date: "7/29/2011",open: 13.89,high: 14.07,low: 13.04,close: 13.1,volume: 67673900},
		{date: "8/1/2011",open: 13.24,high: 13.34,low: 12.95,close: 13.1,volume: 26859400},
		{date: "8/2/2011",open: 12.96,high: 13.18,low: 12.75,close: 12.76,volume: 25656100},
		{date: "8/3/2011",open: 12.77,high: 13.07,low: 12.53,close: 13.02,volume: 26161900},
		{date: "8/4/2011",open: 12.8,high: 12.86,low: 11.99,close: 12,volume: 39428900},
		{date: "8/5/2011",open: 12.08,high: 12.12,low: 11.41,close: 11.74,volume: 47066200},
		{date: "8/8/2011",open: 11.43,high: 11.8,low: 11.09,close: 11.09,volume: 59560200},
		{date: "8/9/2011",open: 11.3,high: 12.09,low: 11.25,close: 12.09,volume: 47484100},
		{date: "8/10/2011",open: 11.77,high: 12.14,low: 11.62,close: 11.77,volume: 48027400},
		{date: "8/11/2011",open: 11.89,high: 12.92,low: 11.88,close: 12.86,volume: 51098800},
		{date: "8/12/2011",open: 12.81,high: 13.62,low: 12.76,close: 13.59,volume: 48472500},
		{date: "8/15/2011",open: 13.63,high: 13.69,low: 13.27,close: 13.47,volume: 25682800},
		{date: "8/16/2011",open: 13.34,high: 13.57,low: 13.18,close: 13.48,volume: 25581900},
		{date: "8/17/2011",open: 13.49,high: 13.62,low: 13.32,close: 13.47,volume: 17006500},
		{date: "8/18/2011",open: 13.02,high: 13.09,low: 12.8,close: 12.96,volume: 30447700},
		{date: "8/19/2011",open: 12.75,high: 13.08,low: 12.72,close: 12.92,volume: 26183900},
		{date: "8/22/2011",open: 13.16,high: 13.23,low: 12.77,close: 12.84,volume: 14199400},
		{date: "8/23/2011",open: 12.91,high: 13.35,low: 12.75,close: 13.35,volume: 17186500},
		{date: "8/24/2011",open: 13.28,high: 13.3,low: 12.79,close: 13.15,volume: 24967200},
		{date: "8/25/2011",open: 13.12,high: 13.21,low: 12.81,close: 12.87,volume: 21796100},
		{date: "8/26/2011",open: 12.8,high: 12.89,low: 12.52,close: 12.74,volume: 35882600},
		{date: "8/29/2011",open: 12.9,high: 13.68,low: 12.69,close: 13.68,volume: 30990800},
		{date: "8/30/2011",open: 13.3,high: 13.98,low: 13.23,close: 13.84,volume: 29162300},
		{date: "8/31/2011",open: 13.91,high: 13.94,low: 13.54,close: 13.61,volume: 25390700},
		{date: "9/1/2011",open: 13.67,high: 13.78,low: 13.32,close: 13.35,volume: 17847800},
		{date: "9/2/2011",open: 13.12,high: 13.13,low: 12.86,close: 12.87,volume: 20508600},
		{date: "9/6/2011",open: 12.52,high: 12.95,low: 12.45,close: 12.91,volume: 54297300},
		{date: "9/7/2011",open: 13.75,high: 14,low: 13.24,close: 13.61,volume: 77324200},
		{date: "9/8/2011",open: 13.57,high: 14.49,low: 13.37,close: 14.44,volume: 93945500},
		{date: "9/9/2011",open: 14.36,high: 14.57,low: 14.07,close: 14.48,volume: 60009600},
		{date: "9/12/2011",open: 14.12,high: 14.28,low: 13.92,close: 14.26,volume: 32692700},
		{date: "9/13/2011",open: 14.3,high: 14.34,low: 14.12,close: 14.26,volume: 19928800},
		{date: "9/14/2011",open: 14.47,high: 14.94,low: 14.34,close: 14.55,volume: 37385000},
		{date: "9/15/2011",open: 14.73,high: 15.4,low: 14.51,close: 14.89,volume: 58548900},
		{date: "9/16/2011",open: 15.09,high: 15.34,low: 14.94,close: 14.97,volume: 56810800},
		{date: "9/19/2011",open: 14.76,high: 14.79,low: 14.4,close: 14.61,volume: 27249700},
		{date: "9/20/2011",open: 14.53,high: 14.66,low: 14.28,close: 14.36,volume: 21767200},
		{date: "9/21/2011",open: 14.38,high: 14.6,low: 13.96,close: 13.96,volume: 32012800},
		{date: "9/22/2011",open: 14.2,high: 14.25,low: 13.69,close: 13.99,volume: 60439700},
		{date: "9/23/2011",open: 14.23,high: 14.83,low: 14.12,close: 14.71,volume: 49322600},
		{date: "9/26/2011",open: 14.79,high: 14.8,low: 14.23,close: 14.75,volume: 24466200},
		{date: "9/27/2011",open: 14.92,high: 15,low: 14.44,close: 14.54,volume: 25084400},
		{date: "9/28/2011",open: 14.61,high: 14.62,low: 14.15,close: 14.19,volume: 21271900},
		{date: "9/29/2011",open: 14.34,high: 14.39,low: 13.15,close: 13.42,volume: 45776600},
		{date: "9/30/2011",open: 13.21,high: 13.44,low: 13.11,close: 13.17,volume: 30232800}];
        
        rocketcharts.addSeries("GOOG", googData, undefined, style);
        rocketcharts.addIndicator("parabolicsar", undefined, 0, 0);
        rocketcharts.addIndicator("movingaverageconvergencedivergence", undefined, 0);
    });
</script>
<div id="rocketchart" style="width: 100%; height: 400px; background-color: black; margin: 0 0 1em 0;"></div><p>Utilizing HTML5′s canvas, I present to you my newest open-source project: <a href="https://github.com/chasebgale/rocketcharts">rocketcharts</a>. I am following the &quot;release early, release often&quot; mantra for this project, so I’d keep it out of production code for the moment. Speaking of code, how did I generate the above interactive chart?</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"rocketcharts.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"jquery-1.5.1.min.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span>&gt;</span><span class="javascript">
   $(<span class="hljs-built_in">document</span>).ready(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{    

      <span class="hljs-keyword">var</span> style = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>();
      style.UpColor = {<span class="hljs-attr">r</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">g</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">0</span>};
      style.DownColor = {<span class="hljs-attr">r</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">g</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">0</span>};

      <span class="hljs-keyword">var</span> settings = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>();
      settings.customUI = <span class="hljs-literal">true</span>;

      <span class="hljs-keyword">var</span> rocketcharts = <span class="hljs-keyword">new</span> Rocketchart();

      rocketcharts.init(<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"rocketchart"</span>), settings); 

      <span class="hljs-keyword">var</span> googData = [{<span class="hljs-attr">date</span>: <span class="hljs-string">"11/9/2010"</span>, <span class="hljs-attr">open</span>: <span class="hljs-number">17.22</span>, <span class="hljs-attr">high</span>: <span class="hljs-number">17.6</span>, <span class="hljs-attr">low</span>: <span class="hljs-number">16.86</span>, <span class="hljs-attr">close</span>: <span class="hljs-number">16.97</span>, <span class="hljs-attr">volume</span>: <span class="hljs-number">56218900</span>},
                      {<span class="hljs-attr">date</span>: <span class="hljs-string">"11/10/2010"</span>, <span class="hljs-attr">open</span>: <span class="hljs-number">17</span>, <span class="hljs-attr">high</span>: <span class="hljs-number">17.01</span>, <span class="hljs-attr">low</span>: <span class="hljs-number">16.75</span>, <span class="hljs-attr">close</span>: <span class="hljs-number">16.94</span>, <span class="hljs-attr">volume</span>: <span class="hljs-number">17012600</span>},
                      ...
                      {<span class="hljs-attr">date</span>: <span class="hljs-string">"9/29/2011"</span>, <span class="hljs-attr">open</span>: <span class="hljs-number">14.34</span>, <span class="hljs-attr">high</span>: <span class="hljs-number">14.39</span>, <span class="hljs-attr">low</span>: <span class="hljs-number">13.15</span>, <span class="hljs-attr">close</span>: <span class="hljs-number">13.42</span>, <span class="hljs-attr">volume</span>: <span class="hljs-number">45776600</span>},
                      {<span class="hljs-attr">date</span>: <span class="hljs-string">"9/30/2011"</span>, <span class="hljs-attr">open</span>: <span class="hljs-number">13.21</span>, <span class="hljs-attr">high</span>: <span class="hljs-number">13.44</span>, <span class="hljs-attr">low</span>: <span class="hljs-number">13.11</span>, <span class="hljs-attr">close</span>: <span class="hljs-number">13.17</span>, <span class="hljs-attr">volume</span>: <span class="hljs-number">30232800</span>}];

      <span class="hljs-comment">// rocketcharts.addSeries(title, data, type, style, panel);</span>
      rocketcharts.addSeries(<span class="hljs-string">"GOOG"</span>, googData, <span class="hljs-literal">undefined</span>, style);
      <span class="hljs-comment">// rocketcharts.addIndicator(id, params, series, panel);</span>
      rocketcharts.addIndicator(<span class="hljs-string">"movingaverageconvergancedivergance"</span>, <span class="hljs-literal">undefined</span>, <span class="hljs-number">0</span>);

   });
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h2 id="a-view-of-the-architecture-from-30-000-feet">A View of the Architecture from 30,000 Feet</h2>
<p>Before we jump right into how to use rocketcharts, let’s first understand what is going on behind the scenes. If you look at the code above, you’ll notice the first method call: <code>rocketcharts.init(element, settings);</code> &quot;element&quot; points to a container in your DOM, typically a DIV, where you want the chart displayed. Rocketcharts respects any styles you have set for this element and will not resize it; Instead, JQuery is employed to append a canvas, referred to as a chart panel, to that DIV.</p>
<p>&quot;But what is a panel?&quot; If you look again at the code block above, you’ll notice I don’t specify the last parameter of the &quot;addIndicator&quot; call which specifies a panel ID. The lack of a panel being passed creates a new panel for the indicator to be drawn on, i.e. a new canvas appended to the DOM. Adding a new element for each panel, rather than drawing all the panels on one large element, brings several advantages to the table. For one, we can leverage the existing power of a modern browser using JQueryUI to allow effortless user-resizing of the panels. No need to worry about vertical scrolling either, as this is taken care of for us.</p>
<p>Once we have our panels appended to the DOM, the real fun can begin: pixel manipulation. <em>&quot;Am I nerd, a geek or just a passionate developer? Playing with pixels is fun, dammit!&quot;</em> Essentially, rocketcharts performs some initial calculations, then loops through each panel and calls it’s draw method.</p>
<p><img src="/Introducing-Rocketcharts-Open-source-HTML5-Financial-Statistical-Charts/resource/Panel-Drawing-Flow.png" alt="Panel-Drawing-Flow"></p>
<h2 id="the-state-of-rocketcharts">The State of Rocketcharts</h2>
<p>For the moment, rocketcharts is functionally quite basic. You can add your own Open-High-Low-Close-Date data to the chart. You can add one of three indicators and specify to draw over the primary series or on a new panel. Simple for now but the foundation is in place – adding additional studies/indicators is a simple affair.</p>
<p>Within the immediate future I plan to add zooming and horizontal scrolling, more indicators and a more robust UI allowing the user, rather than you, to manage the chart. I encourage you to <a href="https://github.com/chasebgale/rocketcharts">follow along with the source</a>, all feedback is welcome and will help keep the momentum of the project high.</p>

	</div>
</article>

<hr class="article-divider" />
<ins class="adsbygoogle"
		 style="display:block;width:728px;height:90px;margin: 0 auto;"
   	 data-ad-client="ca-pub-4898800745718155"
   	 data-ad-slot="4705512849"></ins>
<hr class="article-divider" /><article class="post">
	<header class="entry-header">
		<span class="date">
			Sep 12, 2011
		</span>
		<h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/Raster-Text-In-HTML5-s-Canvas">Raster Text In HTML5's Canvas</a>
    </h1>
	</header>
	<div class="entry-content">
		<p>I love HTML5′s canvas. Armed with only a modern browser, we now have access to a plethora of drawing/imaging functionality with no third-party plugins required. Unfortunately, life isn’t all sunshine quite yet, echoed across the web is one resounding cry: &quot;<a href="http://simonsarris.com/blog/322-canvas-drawtext-considered-harmful">drawText is performance murder.</a>&quot; Even more unfortunately, the project I am currently building requires heaps (pun intended) of drawText() calls.</p>
<p>So, what to do? How do we quickly get a block of text onto a canvas? The answer is to manipulate the pixels of the canvas directly. I feel that code speaks louder than words, so let’s jump right in. First, you’ll need an image that represents our font:</p>
<p><img src="/Raster-Text-In-HTML5-s-Canvas/resource/bitmapfont_source.png" alt="bitmapfont source"></p>
<p>As you can see, I am using a bitmap font (no anti-aliasing) and I am outputting all characters in order, starting at charcode 33. <strong>Note: The lookup function we are going to write today depends entirely on these characters being in order.</strong> The next step is to load the font image into an off-screen buffer, or in our particular case, a hidden canvas element.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> fontImage = <span class="hljs-keyword">new</span> Image();
fontImage.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
  <span class="hljs-keyword">var</span> bufferCanvas = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"bufferCanvas"</span>);
  <span class="hljs-keyword">var</span> bufferContext = bufferCanvas.getContext(<span class="hljs-string">"2d"</span>);

  bufferContext.drawImage(fontImage, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">566</span>, <span class="hljs-number">7</span>);
};
fontImage.src = <span class="hljs-string">"bitmapfont.png"</span>;
</code></pre>
<p>Now that we have our image drawn into the canvas, we are able to extract a representative array of pixels and begin processing them. The idea is to iterate over each block (every 4 elements of the array correspond to red, green, blue and alpha channels of a single pixel) and record the significant points for each character.</p>
<pre><code class="lang-javascript">    <span class="hljs-keyword">var</span> fontPoints = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
    <span class="hljs-keyword">var</span> fontImage = <span class="hljs-keyword">new</span> Image();
    fontImage.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
        <span class="hljs-keyword">var</span> bufferCanvas = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"bufferCanvas"</span>);
        <span class="hljs-keyword">var</span> bufferContext = bufferCanvas.getContext(<span class="hljs-string">"2d"</span>);

        bufferContext.drawImage(fontImage, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">566</span>, <span class="hljs-number">7</span>);

        <span class="hljs-keyword">var</span> w = <span class="hljs-number">566</span>;
        <span class="hljs-keyword">var</span> fontPixelArray = bufferContext.getImageData(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, w, <span class="hljs-number">7</span>);

        <span class="hljs-comment">// Store pointer directly to array of data to speed up lookups</span>
        <span class="hljs-keyword">var</span> fontPixelData = fontPixelArray.data;
        <span class="hljs-keyword">var</span> total = <span class="hljs-number">-1</span>;
        <span class="hljs-keyword">var</span> x = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">var</span> y = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">var</span> index = <span class="hljs-number">-1</span>;
        <span class="hljs-keyword">var</span> pointsLength = <span class="hljs-number">-1</span>;

        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>; i &lt; <span class="hljs-number">95</span>; i++) {
            <span class="hljs-comment">// Each array element is an array that stores relative x and y coordinates</span>
            fontPoints[i] = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
        }

        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>; i &lt; fontPixelData.length; i++) {
            <span class="hljs-comment">// Add up the R, G, B values</span>
            total = fontPixelData[i] + fontPixelData[i+<span class="hljs-number">1</span>] + fontPixelData[i+<span class="hljs-number">2</span>];

            <span class="hljs-comment">// If the total = 0 it's a black pixel, if not, we need to record it</span>
            <span class="hljs-keyword">if</span> (total &gt; <span class="hljs-number">0</span>) {
                x = i / <span class="hljs-number">4</span> % w;
                y = ( i / <span class="hljs-number">4</span> - x) / w;

                <span class="hljs-comment">// We can derive the character index by dividing by the character width</span>
                index = <span class="hljs-built_in">Math</span>.floor(x/<span class="hljs-number">6</span>);

                x = x - (index * <span class="hljs-number">6</span>);

                pointsLength = fontPoints[index].length;

                fontPoints[index][pointsLength] = {<span class="hljs-attr">x</span>: x, <span class="hljs-attr">y</span>: y};
            }

            i += <span class="hljs-number">3</span>;
        }

    };
    fontImage.src = <span class="hljs-string">"bitmapfont.png"</span>;
</code></pre>
<p>As illustrated above, we first create an array containing 94 child arrays – each will hold the significant points of the associated glyph; next, we iterate over the CanvasPixelData array in chunks of 4, screening out black pixels. Once we come upon a non-black point, we derive it’s relative coordinates and character index, then add the point to the appropriate array.</p>
<p>At this point, we have an array of coordinates to reproduce every glyph in our original image. As I’m sure you have anticipated, we now need a method we can invoke that will imprint these coordinates onto an existing image. Again, code speaks louder than words:</p>
<pre><code class="lang-javascript">function setPixel(imageData, x, y, r, g, <span class="hljs-keyword">b, </span>a) {
    index = (parseInt(x) + parseInt(y) * imageData.width) * <span class="hljs-number">4</span><span class="hljs-comment">;</span>
    imageData[index+<span class="hljs-number">0</span>] = r<span class="hljs-comment">;</span>
    imageData[index+<span class="hljs-number">1</span>] = g<span class="hljs-comment">;</span>
    imageData[index+<span class="hljs-number">2</span>] = <span class="hljs-keyword">b;
</span>    imageData[index+<span class="hljs-number">3</span>] = a<span class="hljs-comment">;</span>
}

function rasterText(imageData, text, x, y) {
    var len = text.length<span class="hljs-comment">;</span>
    var i = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
    var code = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
    var characterPixelLength = -<span class="hljs-number">1</span><span class="hljs-comment">;</span>

    var startX = x<span class="hljs-comment">;</span>
    var startY = y<span class="hljs-comment">;</span>

    for (i=<span class="hljs-number">0</span><span class="hljs-comment">; i &lt; len; i++) {</span>
        code = text.charCodeAt(i) - <span class="hljs-number">33</span><span class="hljs-comment">;</span>

        if (code &gt; -<span class="hljs-number">1</span>) {
            characterPixelLength = fontPoints[code].length<span class="hljs-comment">;</span>

            for (var <span class="hljs-keyword">j=0; </span><span class="hljs-keyword">j </span>&lt; characterPixelLength<span class="hljs-comment">; j++) {</span>
                setPixel(imageData,
                        startX + fontPoints[code][<span class="hljs-keyword">j].x,
</span>                        startY + fontPoints[code][<span class="hljs-keyword">j].y,
</span>                        <span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0xFF</span>)<span class="hljs-comment">;</span>
            }
        }

        startX += <span class="hljs-number">6</span><span class="hljs-comment">;</span>
    }
}
</code></pre>
<p>Our new &quot;rasterText&quot; method accepts a string as one of it&#39;s parameters. For each character in this string, we lookup the number of points required to reproduce it, then for each of those points, we call the helper method &quot;setPixel.&quot; You&#39;ll also notice on line 19, we determine the index in our array by subtracting 33 from the character code. A space resolves to -1, but you&#39;ll notice we increase our &quot;startX&quot; outside that condition, so the space is preserved.</p>
<p>Here is how we would use this method from start to finish:</p>
<pre><code class="lang-javascript">var destinationCanvas = document.getElementById(<span class="hljs-string">"destinationCanvas"</span>)<span class="hljs-comment">;</span>
var <span class="hljs-built_in">context</span> = destinationCanvas.getContext(<span class="hljs-string">"2d"</span>)<span class="hljs-comment">;</span>
var imageData = <span class="hljs-built_in">context</span>.getImageData(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-built_in">context</span>.width, <span class="hljs-built_in">context</span>.height)<span class="hljs-comment">;</span>

rasterText(imageData<span class="hljs-meta">.data</span>, <span class="hljs-string">"Hello World!"</span>, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>)<span class="hljs-comment">;</span>

<span class="hljs-built_in">context</span>.putImageData(imageData, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)<span class="hljs-comment">;</span>
</code></pre>
<p>Awesome! However, I&#39;m sure upon reflection you&#39;ll be identifying the limitations of this technique. Namely, you&#39;ll need to load and pre-process a different image for each font face and font size. Up front costs in terms of your effort, sure, but during testing my aforementioned project, text rendering time was reduced by a mean ~20%.</p>
<p>In closing, the method we built here today is by no means a nail in the text-rendering-poor-performance coffin. What it is, however, is another tool in your arsenal - I urge you to treat it like a scalpel, not a hammer.</p>

	</div>
</article>

<hr class="article-divider" />
<ins class="adsbygoogle"
		 style="display:block;width:728px;height:90px;margin: 0 auto;"
   	 data-ad-client="ca-pub-4898800745718155"
   	 data-ad-slot="4705512849"></ins>
<hr class="article-divider" /><article class="post">
	<header class="entry-header">
		<span class="date">
			Aug 30, 2011
		</span>
		<h1 itemprop="name" class="entry-title">
      <a class="article-title" href="/User-Activity-Tracking-in-ASP-NET-MVC3-via-Global-Filters">User Activity Tracking in ASP.NET MVC3 via Global Filters</a>
    </h1>
	</header>
	<div class="entry-content">
		<p>When designing enterprise applications I often run into the same request from the business: ‘user tracking.’ Who created this entity? What time? Why was this entity created (origin tracking)? In the past I have seen colleagues create additional columns, such as userId and creationTime, on every ‘trackable’ table in the system. At the time, this made sense; However, with the advent of Global Filters in MVC3, more efficient ways of doing this have become apparent. Let’s jump in head first.</p>
<p>Open up Visual Studio 2010 and your MVC3 project. If you’d like, simply create a new MVC3 Web Application for the purposes of this tutorial. Next, create a folder under the project root named ‘Filters.’ In this folder, create a class named ‘UserActivityAttribute.cs’ – please note, these names can be anything you desire and hold no special meaning. When you’re finished, your solution explorer should look something like the following:</p>
<p><img src="/User-Activity-Tracking-in-ASP-NET-MVC3-via-Global-Filters/resource/solution.png" alt="solution"></p>
<p>Still with me? Awesome. Open up your newly created class and inherit from ‘ActionFilterAttribute.’ ActionFilterAttribute has several methods you can override which you can read about individually <a href="http://msdn.microsoft.com/en-us/library/system.web.mvc.actionfilterattribute.aspx">over at MSDN</a>; For now though, let’s focus on ‘OnResultExecuting.’ As you might have guessed, this method is fired before the result is executed. Go ahead and override this method, bringing your class to look something like this:</p>
<pre><code class="lang-csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">UserActivityAttribute</span> : <span class="hljs-title">ActionFilterAttribute</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnResultExecuting</span>(<span class="hljs-params">ResultExecutingContext filterContext</span>)
    </span>{
        <span class="hljs-keyword">base</span>.OnResultExecuting(filterContext);
    }
}
</code></pre>
<p>Now for the fun stuff! As I’m sure you’ve observed, we get one argument from this method: ‘filterContext.’ From this ResultExecutingContext we will corral all the information we need to track our user’s actions. Which ActionFilterAttribute method to override depends on what type of information you are trying to capture and the same goes for the approach. To that end, let’s say that in your scenario entities are created using the standard ‘Create’ action. Furthermore, assume that after successful creation you redirect to that entities ‘Details’ action.</p>
<p>So, with these assumptions fresh in our minds, what is the first step to isolate the data we want?</p>
<pre><code class="lang-csharp">public class UserActivityAttribute : ActionFilterAttribute
{
    public override void OnResultExecuting(ResultExecutingContext filterContext)
    {
        if ((filterContext.Result is RedirectToRouteResult) &amp;&amp; 
            (filterContext.RequestContext.HttpContext.Request.RequestType == <span class="hljs-string">"<span class="hljs-keyword">POST</span>"</span>))
        {

        }
        base.OnResultExecuting(filterContext);
    }
}
</code></pre>
<p>As you can see, we check that the result primed for execution is of the type ‘RedirectToRouteResult.’ Additionally, we ensure the request was a POST, the default request type for ‘Create’ methods. Now that we have this in place, let’s extract some information about the RouteData of the <strong>Request</strong> and filter down further.</p>
<pre><code class="lang-csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">UserActivityAttribute</span> : <span class="hljs-title">ActionFilterAttribute</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnResultExecuting</span>(<span class="hljs-params">ResultExecutingContext filterContext</span>)
    </span>{
        <span class="hljs-keyword">if</span> ((filterContext.Result <span class="hljs-keyword">is</span> RedirectToRouteResult) &amp;&amp;
            (filterContext.RequestContext.HttpContext.Request.RequestType == <span class="hljs-string">"POST"</span>))
        {
            <span class="hljs-keyword">var</span> originController = filterContext.RouteData.Values[<span class="hljs-string">"controller"</span>].ToString();
            <span class="hljs-keyword">var</span> originAction = filterContext.RouteData.Values[<span class="hljs-string">"action"</span>].ToString();

            <span class="hljs-keyword">if</span> (originAction == <span class="hljs-string">"Create"</span>)
            {

            }
        }
        <span class="hljs-keyword">base</span>.OnResultExecuting(filterContext);
    }
}
</code></pre>
<p>Now we have the controller and action of the request, using this information we filter out actions not matching our mock scenario, create calls. The final step is to decide what information to store and to format it accordingly. Let’s assume this application tracks brick-and-mortar stores and the customers that frequent them. We have two different controllers, Customer and Store, and based on what we are creating we want to change the formatting. I’ll let the code do the talking:</p>
<pre><code class="lang-csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">UserActivityAttribute</span> : <span class="hljs-title">ActionFilterAttribute</span>
{
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnResultExecuting</span>(<span class="hljs-params">ResultExecutingContext filterContext</span>)
  </span>{
    <span class="hljs-keyword">if</span> ((filterContext.Result <span class="hljs-keyword">is</span> RedirectToRouteResult) &amp;&amp;
        (filterContext.RequestContext.HttpContext.Request.RequestType == <span class="hljs-string">"POST"</span>))
    {
      <span class="hljs-keyword">var</span> originController = filterContext.RouteData.Values[<span class="hljs-string">"controller"</span>].ToString();
      <span class="hljs-keyword">var</span> originAction = filterContext.RouteData.Values[<span class="hljs-string">"action"</span>].ToString();

      <span class="hljs-keyword">if</span> (originAction == <span class="hljs-string">"Create"</span>)
      {
        RedirectToRouteResult redirectResult = filterContext.Result <span class="hljs-keyword">as</span> RedirectToRouteResult;
        <span class="hljs-keyword">var</span> form = filterContext.RequestContext.HttpContext.Request.Form;

        <span class="hljs-keyword">var</span> destinationController = redirectResult.RouteValues[<span class="hljs-string">"controller"</span>];
        <span class="hljs-keyword">var</span> destinationAction = redirectResult.RouteValues[<span class="hljs-string">"action"</span>];
        <span class="hljs-keyword">var</span> destinationId = redirectResult.RouteValues[<span class="hljs-string">"id"</span>];

        <span class="hljs-keyword">var</span> destination = <span class="hljs-string">"/"</span> + destinationController + <span class="hljs-string">"/"</span> + destinationAction + <span class="hljs-string">"/"</span> + destinationId;
        <span class="hljs-keyword">var</span> title = <span class="hljs-string">""</span>;

        <span class="hljs-keyword">switch</span> (destinationController)
        {
          <span class="hljs-keyword">case</span> <span class="hljs-string">"Customer"</span>:
            title = form[<span class="hljs-string">"FirstName"</span>] + <span class="hljs-string">" "</span> + form[<span class="hljs-string">"LastName"</span>];
            <span class="hljs-keyword">break</span>;
          <span class="hljs-keyword">case</span> <span class="hljs-string">"Store"</span>:
            title = <span class="hljs-string">"#"</span> + destinationId.ToString();
            <span class="hljs-keyword">break</span>;
        }

        <span class="hljs-keyword">var</span> action = <span class="hljs-string">"Created "</span> + destinationController + <span class="hljs-string">" ["</span> + title + <span class="hljs-string">"]("</span> + destination + <span class="hljs-string">")"</span>;
        Tracking.RecordSystemUserAction(action);
      }
    }
  }
}
</code></pre>
<p>Too cool, right? I love this stuff. Let’s break it down; First off, we pull out and cast the Result object. Secondly, because we know we are in a post, we pull out the form the user submitted. Thirdly, we extract all of the destination route information and use it to switch and further format. Finally, we bundle all of this up into a nice, human readable string and send it off to our utility method to be saved.</p>
<p>How you format this information is entirely up to you and your use case. As you may have figured out from the psuedo-markup I am generating, in my case I take anything inside the brackets and generate a url from the destination. When history is presented the end user, they see a friendly ‘wall post’ style list, allowing them to easily click through their history.</p>
<p>Ok, so I said that was the last step, I fibbed. Now we have this badass user tracking ActionFilterAttribute, how do we tell MVC3 to execute this code on every request? Under the project root in your Solution Explorer, find and open a file named ‘Global.asax.’ You’ll see a method titled ‘RegisterRoutes.’ Paste the following code above it.</p>
<pre><code class="lang-csharp"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">RegisterGlobalFilters</span><span class="hljs-params">(GlobalFilterCollection filters)</span>
</span>{
  filters.Add(<span class="hljs-keyword">new</span> UserActivityAttribute());
}
</code></pre>
<p>Now find the ‘Application_Start()’ method in the same file. Ensure that ‘RegisterGlobalFilters(GlobalFilters.Filters);’ is called within. That’s it. For real this time. When your MVC3 application starts, it will call this method; Behind the scenes, every action method is adorned with the attribute we just created.</p>
<p>The possibilities exposed by Global Filters, coupled with their ease of implementation, makes them an essential card up your sleeve. I’ll leave you with one friendly piece of advice: Remember that these overridden methods will be called with <em>every single request</em>. Make your initial condition as exclusive as possible to save cpu cycles.</p>
<p>Best of luck.</p>

	</div>
</article>

<hr class="article-divider" />
<ins class="adsbygoogle"
		 style="display:block;width:728px;height:90px;margin: 0 auto;"
   	 data-ad-client="ca-pub-4898800745718155"
   	 data-ad-slot="4705512849"></ins>
<hr class="article-divider" /><div id="index">
	<ul>
	
	   <li class="index-li">
	   	<span class="date">Feb 21, 2016</span>
	   	<a href="/Introducing-Assembled-Realms">Introducing: Assembled Realms, Build and Play Open-Source MMOs - All From A Browser</a>
	   </li>
	
	   <li class="index-li">
	   	<span class="date">Oct 21, 2011</span>
	   	<a href="/Introducing-Rocketcharts-Open-source-HTML5-Financial-Statistical-Charts">Introducing: Rocketcharts, Open-source HTML5 Financial/Statistical Charts</a>
	   </li>
	
	   <li class="index-li">
	   	<span class="date">Sep 12, 2011</span>
	   	<a href="/Raster-Text-In-HTML5-s-Canvas">Raster Text In HTML5&#39;s Canvas</a>
	   </li>
	
	   <li class="index-li">
	   	<span class="date">Aug 30, 2011</span>
	   	<a href="/User-Activity-Tracking-in-ASP-NET-MVC3-via-Global-Filters">User Activity Tracking in ASP.NET MVC3 via Global Filters</a>
	   </li>
	
	</ul>
</div>

<div id="about">
	<img src="/img/darth_chase.jpg" alt="Darth Chase Brandon Gale" />
	<h1>Chase Brandon Gale</h1>
	<p>Passionate software developer at heart, operating under multiple revolving titles, most often "Senior Software Engineer." Currently rocking 16 years of experience designing, building, testing and deploying <i>awesome</i> applications.</p>
	<div style="clear: both;"></div>
</div>    </div>
    <footer id="footer">
      <span class="copyright">
        &copy; 2010-2017 <a href="/about">Chase Brandon Gale</a> | 
        Knowledge is power, use at your own risk.
      </span>
    </footer>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
    <script src="/vendor/fancybox/jquery.fancybox.pack.js"></script>
    <script src="/js/index.js" type="text/javascript"></script>
    <script>
      [].forEach.call(document.querySelectorAll('.adsbygoogle'), function(){
          (adsbygoogle = window.adsbygoogle || []).push({});
      });
    </script>
  </div>
</body>
</html>